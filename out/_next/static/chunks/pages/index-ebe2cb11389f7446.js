(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3908)}])},7812:(e,t,s)=>{"use strict";s.d(t,{A:()=>_});var o=s(4848),l=s(1106),n=s.n(l),a=s(6540),c=s(1468),i=s(5032),r=s(8906),d=s.n(r);let _=(0,a.memo)(e=>{let{task:t,isFullView:s}=e,l=(0,c.wA)(),[r,_]=(0,a.useState)(!1),[p,u]=(0,a.useState)(t.title),[m,k]=(0,a.useState)(!1),h=(0,a.useRef)(null),x=()=>{p.trim()&&p!==t.title&&l((0,i.gp)({...t,title:p.trim()})),_(!1)};return(0,o.jsxs)("li",{ref:h,className:"".concat(d().task," ").concat(m?d().removing:""," ").concat(s?d().fullView:""),children:[(0,o.jsx)("input",{onChange:()=>{if(s){l((0,i.Rt)({...t,completed:!t.completed}));return}k(!0),setTimeout(()=>{l((0,i.Rt)({...t,completed:!t.completed}))},300)},className:d().checkbox,type:"checkbox",checked:t.completed}),r?(0,o.jsx)("input",{value:p,onChange:e=>{u(e.target.value)},onKeyDown:e=>{"Enter"===e.key?x():"Escape"===e.key&&(u(t.title),_(!1))},className:"".concat(d().input),autoFocus:!0}):(0,o.jsx)(n(),{href:"/tasks/".concat(t.id),children:(0,o.jsxs)("label",{className:d().label+" "+(t.completed?d().completed:""),onClick:()=>{console.log("Relocate to task page")},children:[t.id,". ",t.title]})}),s&&(0,o.jsx)("button",{className:d().button,onClick:()=>{_(!0)},children:"Edit"}),(0,o.jsx)("button",{className:d().button,onClick:()=>{k(!0),setTimeout(()=>{l((0,i.u0)(t.id))},300)},children:(0,o.jsx)("img",{className:d().removeIcon,src:"/img/rubbish-bin.svg",alt:"Cross icon"})})]},t.id)})},3908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var o=s(4848),l=s(6540),n=s(1106),a=s.n(n),c=s(4378),i=s.n(c),r=s(1468),d=s(5032),_=s(7812),p=s(2170),u=s.n(p),m=function(e){return e.Completed="completed",e.Uncompleted="uncompleted",e}({});let k=e=>{var t,s;let{type:l}=e,n=l===m.Completed?null!==(t=(0,r.d4)(d.Yd))&&void 0!==t?t:[]:null!==(s=(0,r.d4)(d.YI))&&void 0!==s?s:[];return(0,o.jsx)("ul",{className:u().list,children:n.map(e=>(0,o.jsx)(_.A,{task:e,isFullView:!1},e.id))})};var h=s(1882),x=s.n(h);let j=()=>{let[e,t]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e=()=>{window.scrollY>500?t(!1):t(!0)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,o.jsx)("button",{onClick:()=>{window.scrollTo({top:0})},className:"".concat(x().scrollToTop," ").concat(e?"visually-hidden":""),type:"button",children:(0,o.jsx)("img",{className:x().arrow,src:"img/arrow-up.svg",alt:"Arrow pointing top"})})},w=()=>{let e=(0,r.wA)(),t=(0,r.d4)(e=>e.tasks.loading),s=(0,r.d4)(e=>e.tasks.error),n=(0,r.d4)(e=>e.tasks.tasks);return(0,l.useEffect)(()=>{n.length||e((0,d.j)("https://jsonplaceholder.typicode.com/todos"))},[e]),(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)("p",{children:"Loading..."}),s&&(0,o.jsx)("p",{className:i().error,children:"Something went wrong and we couldn't fetch tasks. But you can add yours anyway!"}),!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("section",{className:i().intro,children:(0,o.jsx)(a(),{className:i().link,href:"#completed",children:"Go to completed tasks"})}),(0,o.jsxs)("section",{children:[(0,o.jsx)("h2",{className:i().title,children:"Want to add a task?"}),(0,o.jsx)("button",{className:i().addButton,children:"Add a task!"})]}),(0,o.jsxs)("section",{id:"uncompleted",children:[(0,o.jsx)("h2",{className:i().title,children:"To do"}),(0,o.jsx)(k,{type:m.Uncompleted})]}),(0,o.jsxs)("section",{id:"completed",children:[(0,o.jsx)("h2",{className:i().title,children:"Completed"}),(0,o.jsx)(k,{type:m.Completed})]}),(0,o.jsx)(j,{})]})]})}},4378:e=>{e.exports={logo:"app_logo__igZ_c",main:"app_main__sPq1E",title:"app_title__OACNj",addButton:"app_addButton__dR_zq",error:"app_error__pmwbN",footer:"app_footer__G0SeP",intro:"app_intro__qwJyJ",link:"app_link__yNfK1"}},8906:e=>{e.exports={task:"task_task__kQZkH",fullView:"task_fullView__wcubz",removing:"task_removing__IbPml",label:"task_label__8vjeW",completed:"task_completed__8B5Ij",button:"task_button__Z_8o4",removeIcon:"task_removeIcon__BkvXa",linkBack:"task_linkBack__azbN_"}},2170:e=>{e.exports={list:"taskList_list__MlsoA"}},1882:e=>{e.exports={scrollToTop:"upButton_scrollToTop__DEx69",arrow:"upButton_arrow__GG_RV"}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2022)),_N_E=e.O()}]);